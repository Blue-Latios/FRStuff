(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{343:function(t,e,n){var content=n(407);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(110).default)("2cf0f4bc",content,!0,{sourceMap:!1})},406:function(t,e,n){"use strict";n(343)},407:function(t,e,n){var o=n(109)((function(i){return i[1]}));o.push([t.i,"#grid[data-v-3d377c1e]{grid-gap:0;display:grid;gap:0}.grid-item img[data-v-3d377c1e]{height:auto;width:100%}.text-bold[data-v-3d377c1e]{font-size:20px;font-weight:700}.container[data-v-3d377c1e]{font-size:14px;margin:5px;padding:10px}",""]),o.locals={},t.exports=o},431:function(t,e,n){"use strict";n.r(e);n(26),n(19);var o=n(34),r=(n(86),n(14),n(15),n(69),n(48),n(1),n(53),n(3),n(2),n(405)),l=n.n(r),d={data:function(){return{imagesData:[],columns:4,zoomLevel:25,imageBaseWidth:350,generated:!1,loading:!1,diagonalImages:[],startIndex:1}},head:function(){return{title:"Hue Sort"}},computed:{sortedImages:function(){return this.imagesData.sort((function(a,b){return a.hue-b.hue}))},zoomWidth:function(){return this.imageBaseWidth*this.zoomLevel*.01},gridColumnWidth:function(){return"repeat(".concat(this.columns,", ").concat(this.zoomWidth,"px)")}},methods:{downloadImage:function(){var t=this;this.loading=!0;var e=this.$refs.grid;l()(e,{backgroundColor:null,width:e.scrollWidth,height:e.scrollHeight}).then((function(canvas){var e=canvas.toDataURL("image/png"),link=document.createElement("a");link.href=e,link.download="grid_image.png",link.click(),t.loading=!1})).catch((function(e){console.error("Download failed",e),t.loadingDownload=!1}))},triggerFileInput:function(){this.$refs.fileInput.click(),this.loading=!0},handleFileUpload:function(t){var e=this,n=t.target.files,o=Array.from(n).map((function(t){return new Promise((function(n){var o=new FileReader;o.onload=function(o){var img=new Image;img.onload=function(){var r=e.getAverageColor(img),l=e.rgbToHsv(r);n({file:t,hue:l,imgSrc:o.target.result})},img.src=o.target.result},o.readAsDataURL(t)}))}));Promise.all(o).then((function(t){e.imagesData=t,e.generated=!1,e.loading=!1}))},getAverageColor:function(img){var canvas=document.createElement("canvas"),t=canvas.getContext("2d");canvas.width=img.width,canvas.height=img.height,t.drawImage(img,0,0);for(var data=t.getImageData(0,0,img.width,img.height).data,e=0,g=0,b=0,n=0,i=0;i<data.length;i+=4)e+=data[i],g+=data[i+1],b+=data[i+2],n++;return{r:e/=n,g:g/=n,b:b/=n}},rgbToHsv:function(t){var e=t.r,g=t.g,b=t.b;e/=255,g/=255,b/=255;var n,o=Math.max(e,g,b),r=Math.min(e,g,b),l=o-r;if(0===o?0:l/o,o===r)n=0;else{switch(o){case e:n=(g-b)/l+(g<b?6:0);break;case g:n=(b-e)/l+2;break;case b:n=(e-g)/l+4}n/=6}return n},generateGrid:function(){this.generated=!0,this.arrangeDiagonally()},arrangeDiagonally:function(){var t=this,e=Math.ceil(this.imagesData.length/this.columns),n=this.sortedImages.slice(),r=(this.startIndex-1)%n.length,l=n.slice(r).concat(n.slice(0,r)),d=this.getValidDiagonalIndices(l.length,e,this.columns),c=Array.from({length:e*this.columns},(function(){return null}));d.forEach((function(e,i){var n=Object(o.a)(e,2),r=n[0],d=n[1];c[r*t.columns+d]=l[i]})),this.diagonalImages=c.filter((function(t){return null!==t}))},getValidDiagonalIndices:function(t,e,n){for(var o=[],i=0;i<e+n-1;i++)for(var r=0;r<=i;r++){var l=r,d=i-r;l<e&&d<n&&(l===e-1?(t%n==0||d<t%n)&&o.push([l,d]):o.push([l,d]))}return o.slice(0,t)}},watch:{columns:function(){this.generated&&this.arrangeDiagonally()},startIndex:function(){this.arrangeDiagonally()}}},c=(n(406),n(67)),component=Object(c.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._m(0),t._v("\n    A simple tool that generates images of your dragons (or"),e("br"),t._v("\n    other things) sorted in approximate hues! Save dragon"),e("br"),t._v("\n    images to your local computer or phone, then upload*"),e("br"),t._v("\n    the images to the tool. Click Generate button to"),e("br"),t._v("\n    display the resulting grid of images! You can change"),e("br"),t._v("\n    the column number, zoom, starting position (think of"),e("br"),t._v("\n    it as the hue wheel) and the results will be adjusted"),e("br"),t._v("\n    automatically. Click the Download button to download"),e("br"),t._v("\n    the results as an image file. Overall, the tool is not"),e("br"),t._v("\n    perfect, but I hope you have fun using it!\n    "),t._m(1),e("br"),t._v("\n    Note: If the number of images is too many and the"),e("br"),t._v("\n    zoom% is too large, Download may not work. 60 dragons"),e("br"),t._v("\n    on 100% zoom level is downloadable."),e("br"),t._v("\n    Known to not produce the best results for"),e("br"),t._v("\n    greyscale images."),e("br"),t._v(" "),e("br"),t._v(" "),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:t.handleFileUpload}}),t._v(" "),e("button",{on:{click:t.triggerFileInput}},[t._v("Upload Images")]),t._v(" "),e("span",[t._v(t._s(t.loading?"Loading...":"Number of images: "+t.imagesData.length))]),t._v(" "),e("br",{staticStyle:{"margin-bottom":"8px"}}),t._v(" "),e("label",{attrs:{for:"columns"}},[t._v("Columns:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.columns,expression:"columns"}],staticStyle:{width:"50px"},attrs:{type:"number",min:"1"},domProps:{value:t.columns},on:{input:function(e){e.target.composing||(t.columns=e.target.value)}}}),t._v(" "),e("label",{attrs:{for:"startIndex"}},[t._v("Start Index:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startIndex,expression:"startIndex"}],staticStyle:{width:"75px"},attrs:{type:"number"},domProps:{value:t.startIndex},on:{input:function(e){e.target.composing||(t.startIndex=e.target.value)}}}),t._v(" "),e("br"),t._v(" "),e("label",{attrs:{for:"zoom"}},[t._v("Zoom%:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.zoomLevel,expression:"zoomLevel"}],attrs:{type:"range",min:"7",max:"100"},domProps:{value:t.zoomLevel},on:{__r:function(e){t.zoomLevel=e.target.value}}}),t._v(" "),e("br"),t._v(" "),e("button",{on:{click:t.generateGrid}},[t._v("Generate")]),t._v(" "),e("button",{on:{click:t.downloadImage}},[t._v("Download")]),t._v(" "),e("br"),e("br"),t._v(" "),t.generated?e("div",{ref:"grid",style:{gridTemplateColumns:t.gridColumnWidth,gap:"0px"},attrs:{id:"grid"}},t._l(t.diagonalImages,(function(img,n){return e("div",{key:img.file.name,staticClass:"grid-item"},[e("img",{style:{width:t.zoomWidth+"px"},attrs:{src:img.imgSrc,title:img.file.name.slice(0,img.file.name.lastIndexOf(".")),alt:"Uploaded Image"}})])})),0):t._e(),t._v(" "),e("hr"),t._v(" "),t._m(2)])}),[function(){var t=this._self._c;return t("div",{staticClass:"text-bold"},[this._v("What is this?"),t("br")])},function(){var t=this._self._c;return t("div",{staticStyle:{"font-size":"10px"}},[t("br"),this._v("\n    *the images are not actually uploaded to the web or stored anywhere.\n    ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"footnote",staticStyle:{"font-size":"10px"}},[e("a",{attrs:{target:"_blank",rel:"noopener noreferrer",href:"https://www1.flightrising.com/forums/gde/3269795"}},[t._v("Tool thread")]),e("br"),t._v("\n    Tool presented by BlueLatios.")])}],!1,null,"3d377c1e",null);e.default=component.exports}}]);